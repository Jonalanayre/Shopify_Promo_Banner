{% comment %}
  Top Promo Banner — reusable section
  - Title always bold
  - Sub-headline always normal (no italics)
  - Inline link always normal (no bold/italic)
  - Reduced gap between title and sub-headline
{% endcomment %}
<section
  id="promo-{{ section.id }}"
  class="promo-banner"
  role="region"
  aria-label="{{ section.settings.aria_label | escape }}"
  style="
    --promo-bg: {{ section.settings.bg | default: '#000000' }};
    --promo-fg: {{ section.settings.fg | default: '#ffffff' }};
    --promo-link: {{ section.settings.link_color | default: '#ffffff' }};
  "
>
  <div class="promo-banner__inner page-width">
    <div class="promo-banner__left">
      <!-- Line 1: Title (always bold) -->
      <p class="promo-banner__title"
         style="font-size: {{ section.settings.title_size }}px;">
        {{ section.settings.eyebrow }}
      </p>

      <!-- Line 2: Sub-headline (always normal) + inline link -->
      <div class="promo-banner__row">
        <span class="promo-banner__subtitle"
              style="font-size: {{ section.settings.subtitle_size }}px;">
          {{ section.settings.headline }}
        </span>

        {% if section.settings.cta_label != blank and section.settings.cta_url != blank %}
          <a class="promo-banner__link"
             href="{{ section.settings.cta_url }}"
             {% if section.settings.cta_new_tab %}target="_blank" rel="noopener"{% endif %}
             style="font-size: {{ section.settings.subtitle_size }}px;">
            {{ section.settings.cta_label | strip_html }}
          </a>
        {% endif %}
      </div>

      {% if section.settings.subtext != blank %}
        <div class="promo-banner__subtext">
          {{ section.settings.subtext }}
        </div>
      {% endif %}
    </div>

    {% if section.settings.image != blank %}
      <div class="promo-banner__right">
        <img
          class="promo-banner__image"
          src="{{ section.settings.image | image_url: width: 1200 }}"
          alt="{{ section.settings.image.alt | escape }}"
          loading="lazy"
        >
      </div>
    {% endif %}
  </div>

  <style>
    #promo-{{ section.id }} {
      background: var(--promo-bg);
      color: var(--promo-fg);
      font-family: 'Inter', sans-serif;
    }

    #promo-{{ section.id }} .promo-banner__inner {
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 1.25rem;
      padding: {{ section.settings.padding_top }}px 1.25rem {{ section.settings.padding_bottom }}px;
    }

    #promo-{{ section.id }} .promo-banner__left { min-width: 0; }

    /* Title line (always bold) */
    #promo-{{ section.id }} .promo-banner__title {
      margin: 0 0 .25rem 0; /* tighter gap */
      color: var(--promo-fg);
      font-weight: 700;
      line-height: 1.25;
      letter-spacing: .2px;
    }

    /* Sub-headline (always normal, no italic) */
    #promo-{{ section.id }} .promo-banner__subtitle {
      color: var(--promo-fg);
      font-weight: 400;
      font-style: normal !important;
      line-height: 1.35;
      margin: 0;
    }

    /* Inline link (always normal, no bold/italic) */
    #promo-{{ section.id }} .promo-banner__link {
      color: var(--promo-link);
      font-weight: 400 !important;
      font-style: normal !important;
      text-decoration: none;
      white-space: nowrap;
    }
    #promo-{{ section.id }} .promo-banner__link:hover,
    #promo-{{ section.id }} .promo-banner__link:focus { text-decoration: underline; }

    /* Optional third line */
    #promo-{{ section.id }} .promo-banner__subtext {
      margin-top: .5rem;
      color: var(--promo-fg);
      font-weight: 400;
      font-size: 11px;
      opacity: .9;
    }

    /* Right image (optional) */
    #promo-{{ section.id }} .promo-banner__right { display: flex; justify-content: flex-end; }
    #promo-{{ section.id }} .promo-banner__image { height: 80px; width: auto; object-fit: contain; }

    /* Responsive */
    @media (max-width: 768px) {
      #promo-{{ section.id }} .promo-banner__inner {
        grid-template-columns: 1fr;
        gap: .5rem;
        padding: {{ section.settings.padding_top }}px 1rem {{ section.settings.padding_bottom }}px;
      }
      #promo-{{ section.id }} .promo-banner__right { display: none; }
    }
  </style>
</section>

{% schema %}
{
  "name": "Top promo banner",
  "settings": [
    { "type": "text", "id": "aria_label", "label": "ARIA label", "default": "Promotional banner" },

    { "type": "inline_richtext", "id": "eyebrow", "label": "Title (line 1)",
      "default": "2025 Buyer’s Guide: Spend Management"
    },
    { "type": "range", "id": "title_size", "label": "Title font size",
      "min": 12, "max": 64, "step": 1, "unit": "px", "default": 25
    },

    { "type": "inline_richtext", "id": "headline", "label": "Sub-headline (line 2, left)",
      "default": "Choose the right partner to save you time and money."
    },
    { "type": "range", "id": "subtitle_size", "label": "Sub-headline font size",
      "min": 10, "max": 32, "step": 1, "unit": "px", "default": 13
    },
    { "type": "range", "id": "padding_top", "label": "Top padding", "min": 0, "max": 100, "step": 1, "unit": "px", "default": 24 },
    { "type": "range", "id": "padding_bottom", "label": "Bottom padding", "min": 0, "max": 100, "step": 1, "unit": "px", "default": 24 },

    { "type": "text", "id": "cta_label", "label": "Inline link text", "default": "Download now" },
    { "type": "url",  "id": "cta_url", "label": "Inline link URL" },
    { "type": "checkbox", "id": "cta_new_tab", "label": "Open link in new tab", "default": true },

    { "type": "richtext", "id": "subtext", "label": "Optional third line", "default": "<p></p>" },

    { "type": "image_picker", "id": "image", "label": "Right image (optional)" },

    { "type": "color", "id": "bg", "label": "Background", "default": "#000000" },
    { "type": "color", "id": "fg", "label": "Text color", "default": "#ffffff" },
    { "type": "color", "id": "link_color", "label": "Inline link color", "default": "#ffffff" }
  ],
  "presets": [{ "name": "Top promo banner" }]
}
{% endschema %}
